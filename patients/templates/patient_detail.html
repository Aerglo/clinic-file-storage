<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ø±ÙˆÙ†Ø¯Ù‡: {{ patient.name }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet"
        type="text/css" />
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            /* ØªØºÛŒÛŒØ± Ø¨Ù‡ min-height Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
            padding: 15px;
        }
    </style>
</head>

<body>

    <div class="card shadow text-center p-4" style="width: 100%; max-width: 500px; border-radius: 15px;">

        <div class="mb-3">
            <span style="font-size: 3rem;">âœ…</span>
        </div>

        <h2 class="mb-2 fw-bold">{{ patient.name }}</h2>

        <div class="bg-light p-3 rounded mb-3 border">
            <p class="text-muted mb-1">
                Ú©Ø¯ Ù…Ù„ÛŒ: <span class="fw-bold text-dark">{{ patient.national_code }}</span>
            </p>

            {% if patient.phone_number %}
            <p class="text-muted mb-0" dir="ltr">
                <a href="tel:{{ patient.phone_number }}" class="text-decoration-none text-secondary">
                    ğŸ“± <span class="fw-bold text-dark">{{ patient.phone_number }}</span>
                </a>
            </p>
            {% else %}
            <p class="text-muted mb-0 small opacity-75">ğŸ“µ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡</p>
            {% endif %}
        </div>

        <hr>

        <div class="my-4">
            <label class="form-label fw-bold text-primary">ğŸ”— Ù„ÛŒÙ†Ú© Ø§Ø®ØªØµØ§ØµÛŒ Ø¨ÛŒÙ…Ø§Ø±:</label>
            <div class="input-group">
                <input type="text" class="form-control bg-white" value="{{ full_link }}" id="linkBox" readonly
                    style="direction: ltr; text-align: left;">
                <button class="btn btn-success" onclick="copyLink()">Ú©Ù¾ÛŒ</button>
            </div>
            <div id="copyMsg" class="alert alert-success py-1 mt-2 small" style="display:none;">
                Ù„ÛŒÙ†Ú© Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú©Ù¾ÛŒ Ø´Ø¯! ğŸ‘Œ
            </div>
        </div>

        <div class="d-grid gap-2">
            <a href="{{ patient.file.url }}" target="_blank" class="btn btn-primary py-2">
                ğŸ“‚ Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙØ§ÛŒÙ„ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù‡
            </a>
            <a href="{% url 'patient_list' %}" class="btn btn-outline-secondary">
                Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ø¨ÛŒÙ…Ø§Ø±Ø§Ù†
            </a>
        </div>
    </div>

    <script>
        function copyLink() {
            var copyText = document.getElementById("linkBox");
            copyText.select();
            copyText.setSelectionRange(0, 99999); // Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„

            navigator.clipboard.writeText(copyText.value).then(() => {
                // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ÛŒØª
                var msg = document.getElementById("copyMsg");
                msg.style.display = "block";
                setTimeout(function () {
                    msg.style.display = "none";
                }, 2500);
            });
        }
    </script>

</body>

</html>