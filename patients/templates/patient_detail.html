<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ø±ÙˆÙ†Ø¯Ù‡: {{ patient.name }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet"
        type="text/css" />
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
    </style>
</head>

<body>

    <div class="card shadow text-center p-4" style="width: 100%; max-width: 500px; border-radius: 15px;">
        <h2 class="mb-1">{{ patient.name }}</h2>
        <p class="text-muted">Ú©Ø¯ Ù…Ù„ÛŒ: {{ patient.national_code }}</p>

        <hr>

        <div class="my-4">
            <label class="form-label fw-bold">ğŸ”— Ù„ÛŒÙ†Ú© Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù¾Ø±ÙˆÙ†Ø¯Ù‡:</label>
            <div class="input-group">
                <input type="text" class="form-control" value="{{ full_link }}" id="linkBox" readonly
                    style="direction: ltr; text-align: left;">
                <button class="btn btn-success" onclick="copyLink()">Ú©Ù¾ÛŒ Ú©Ù†</button>
            </div>
            <div id="copyMsg" class="text-success small mt-2" style="display:none;">Ù„ÛŒÙ†Ú© Ú©Ù¾ÛŒ Ø´Ø¯! âœ…</div>
        </div>

        <div class="d-grid gap-2">
            <a href="{{ patient.file.url }}" target="_blank" class="btn btn-outline-primary">ğŸ‘ Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙØ§ÛŒÙ„</a>
            <a href="{% url 'patient_list' %}" class="btn btn-link text-muted">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª</a>
        </div>
    </div>

    <script>
        function copyLink() {
            var copyText = document.getElementById("linkBox");
            copyText.select();
            copyText.setSelectionRange(0, 99999); // Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„
            navigator.clipboard.writeText(copyText.value);

            // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ÛŒØª
            document.getElementById("copyMsg").style.display = "block";
            setTimeout(function () {
                document.getElementById("copyMsg").style.display = "none";
            }, 2000);
        }
    </script>

</body>

</html>